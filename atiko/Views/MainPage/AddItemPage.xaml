<Page
    x:Class="atiko.Views.AddItemPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    x:Name="Page">

    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <controls:XamlControlsResources />
                <ResourceDictionary Source="/Styles/AppStyles.xaml" />
                <ResourceDictionary Source="/Converters/Converters.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Page.Resources>

    <Grid
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        Background="{StaticResource BackgroundBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="4*" />
            <ColumnDefinition Width="6*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  назад  -->
        <Button
            Grid.Row="0"
            Grid.ColumnSpan="2"
            Margin="25,15,0,15"
            HorizontalAlignment="Left"
            Command="{Binding CloseAddItemPanelCommand}"
            Content="Back"
            Style="{StaticResource SecondaryButtonStyle}" />

        <!--  ліва панель  -->
        <ScrollViewer
            Grid.Row="1"
            Grid.Column="0"
            Padding="25"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            HorizontalScrollBarVisibility="Disabled"
            HorizontalScrollMode="Disabled"
            VerticalScrollBarVisibility="Hidden"
            VerticalScrollMode="Enabled">
            <StackPanel HorizontalAlignment="Stretch" Spacing="15">

                <!--  назва  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Name:" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. Vintage Clock"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding NewItem.Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  рік  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Year:" />
                    <TextBlock
                        FontFamily="Georgia"
                        FontSize="11"
                        Foreground="#B44C4C"
                        Text="{Binding YearErrorMessage}"
                        TextWrapping="Wrap"
                        Visibility="{Binding IsYearInvalid, Converter={StaticResource BooleanToVisibilityConverter}}" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. 1920"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding YearInput, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  категорія  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Category:" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. Furniture"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding NewItem.Category, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  стан  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Condition:" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. Excellent"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding NewItem.Condition, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  опис  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Description:" />
                    <TextBox
                        Height="100"
                        HorizontalAlignment="Stretch"
                        AcceptsReturn="True"
                        FontSize="14"
                        PlaceholderText="e.g. A beautifully preserved antique clock"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding NewItem.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        TextWrapping="Wrap" />
                </StackPanel>

                <!--  ціна  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Value:" />
                    <TextBlock
                        FontFamily="Georgia"
                        FontSize="11"
                        Foreground="#B44C4C"
                        Text="{Binding ValueErrorMessage}"
                        TextWrapping="Wrap"
                        Visibility="{Binding IsValueInvalid, Converter={StaticResource BooleanToVisibilityConverter}}" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. 150"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding ValueInput, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  дата придбання  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Date Created:" />
                    <TextBlock
                        FontFamily="Georgia"
                        FontSize="11"
                        Foreground="#B44C4C"
                        Text="{Binding AcquisitionDateErrorMessage}"
                        TextWrapping="Wrap"
                        Visibility="{Binding IsAcquisitionDateInvalid, Converter={StaticResource BooleanToVisibilityConverter}}" />
                    <DatePicker
                        Height="55"
                        HorizontalAlignment="Stretch"
                        Date="{Binding AcquisitionDateForPicker, Mode=TwoWay}"
                        FontSize="14"
                        Style="{StaticResource LightDatePickerStyle}" />
                </StackPanel>

                <!--  соурс  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Source:" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. Local Auction"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding NewItem.Source, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  фото  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Image:" />
                    <Grid VerticalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox
                            x:Name="ImageUriTextBox"
                            Grid.Column="0"
                            Height="40"
                            Margin="0,0,10,0"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            FontSize="14"
                            IsReadOnly="True"
                            PlaceholderText="Select an image file"
                            Style="{StaticResource DefaultTextBoxStyle}"
                            Text="{Binding NewItem.ImageUri, Mode=OneWay}" />
                        <Button
                            Grid.Column="1"
                            Height="40"
                            MinWidth="120"
                            VerticalAlignment="Center"
                            Command="{Binding UploadImageCommand}"
                            Content="Upload Image"
                            FontSize="14"
                            Style="{StaticResource SecondaryButtonStyle}" />
                    </Grid>
                </StackPanel>

                <!--  нотатки  -->
                <StackPanel Spacing="5">
                    <TextBlock
                        FontSize="14"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Notes:" />
                    <TextBox
                        Height="40"
                        HorizontalAlignment="Stretch"
                        FontSize="14"
                        PlaceholderText="e.g. Needs minor repair"
                        Style="{StaticResource DefaultTextBoxStyle}"
                        Text="{Binding NewItem.Notes, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <!--  контакти  -->
                <StackPanel Margin="0,10,0,0" Spacing="5">
                    <TextBlock
                        FontSize="14"
                        FontWeight="Bold"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Seller Contacts:" />

                    <StackPanel Margin="10,0,0,0" Spacing="5">
                        <TextBlock
                            FontSize="14"
                            Style="{StaticResource BaseTextBlockStyle}"
                            Text="Telegram:" />
                        <TextBox
                            Height="40"
                            HorizontalAlignment="Stretch"
                            FontSize="14"
                            PlaceholderText="e.g. @username"
                            Style="{StaticResource DefaultTextBoxStyle}"
                            Text="{Binding NewItem.SellerContact.Telegram, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>

                    <StackPanel Margin="10,0,0,0" Spacing="5">
                        <TextBlock
                            FontSize="14"
                            Style="{StaticResource BaseTextBlockStyle}"
                            Text="Instagram:" />
                        <TextBox
                            Height="40"
                            HorizontalAlignment="Stretch"
                            FontSize="14"
                            PlaceholderText="e.g. @username"
                            Style="{StaticResource DefaultTextBoxStyle}"
                            Text="{Binding NewItem.SellerContact.Instagram, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>

                    <StackPanel Margin="10,0,0,0" Spacing="5">
                        <TextBlock
                            FontSize="14"
                            Style="{StaticResource BaseTextBlockStyle}"
                            Text="Phone Number:" />
                        <TextBox
                            Height="40"
                            HorizontalAlignment="Stretch"
                            FontSize="14"
                            PlaceholderText="e.g. +380123456789"
                            Style="{StaticResource DefaultTextBoxStyle}"
                            Text="{Binding NewItem.SellerContact.PhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                </StackPanel>

                <!--  фав  -->
                <CheckBox
                    Margin="0,5,0,0"
                    HorizontalAlignment="Left"
                    Content="Favorite"
                    FontSize="14"
                    IsChecked="{Binding NewItem.IsFavorite, Mode=TwoWay}"
                    Style="{StaticResource BrownCheckBoxStyle}" />

                <!--  кнопки  -->
                <StackPanel
                    Margin="0,10,0,0"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal"
                    Spacing="15">
                    <Button
                        Width="120"
                        Height="45"
                        Command="{Binding AddItemCommand}"
                        Content="Save"
                        FontSize="14"
                        Style="{StaticResource PrimaryButtonStyle}" />
                    <Button
                        Width="120"
                        Height="45"
                        Command="{Binding CancelAddCommand}"
                        Content="Cancel"
                        FontSize="14"
                        Style="{StaticResource SecondaryButtonStyle}" />
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

        <!--  права панель прев'ю  -->
        <Border
            Grid.Row="1"
            Grid.Column="1"
            Margin="0,0,25,0"
            Padding="25"
            Background="{StaticResource PanelBrush}"
            CornerRadius="8">
            <ScrollViewer
                HorizontalScrollBarVisibility="Disabled"
                HorizontalScrollMode="Disabled"
                VerticalScrollBarVisibility="Hidden"
                VerticalScrollMode="Enabled">
                <StackPanel Spacing="10">
                    <Image
                        Height="180"
                        Source="{Binding NewItem.ImageUri, FallbackValue='ms-appx:///Assets/PlaceholderImage.png'}"
                        Stretch="Uniform" />

                    <TextBlock FontWeight="Bold" Text="Name:" />
                    <TextBlock Text="{Binding NewItem.Name, FallbackValue='Enter Name'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Description:" />
                    <TextBlock Text="{Binding NewItem.Description, FallbackValue='Enter Description'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Year:" />
                    <TextBlock Text="{Binding YearInput, FallbackValue='Enter Year'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Date Created:" />
                    <TextBlock Text="{Binding NewItem.AcquisitionDate, Converter={StaticResource DateTimeToStringConverter}, FallbackValue='Enter Date'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Source:" />
                    <TextBlock Text="{Binding NewItem.Source, FallbackValue='Enter Source'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Category:" />
                    <TextBlock Text="{Binding NewItem.Category, FallbackValue='Enter Category'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Condition:" />
                    <TextBlock Text="{Binding NewItem.Condition, FallbackValue='Enter Condition'}" TextWrapping="Wrap" />

                    <TextBlock FontWeight="Bold" Text="Notes:" />
                    <TextBlock Text="{Binding NewItem.Notes, FallbackValue='Enter Notes'}" TextWrapping="Wrap" />

                    <TextBlock
                        Margin="0,5,0,0"
                        FontWeight="Bold"
                        Text="Seller Contacts:" />
                    <StackPanel Margin="10,0,0,0" Spacing="5">
                        <TextBlock FontWeight="SemiBold" Text="Telegram:" />
                        <TextBlock Text="{Binding NewItem.SellerContact.Telegram, FallbackValue='Not provided'}" TextWrapping="Wrap" />

                        <TextBlock
                            Margin="0,5,0,0"
                            FontWeight="SemiBold"
                            Text="Instagram:" />
                        <TextBlock Text="{Binding NewItem.SellerContact.Instagram, FallbackValue='Not provided'}" TextWrapping="Wrap" />

                        <TextBlock
                            Margin="0,5,0,0"
                            FontWeight="SemiBold"
                            Text="Phone:" />
                        <TextBlock Text="{Binding NewItem.SellerContact.PhoneNumber, FallbackValue='Not provided'}" TextWrapping="Wrap" />
                    </StackPanel>

                    <TextBlock
                        Margin="0,5,0,0"
                        FontWeight="Bold"
                        Text="Value:" />
                    <Border
                        Padding="5"
                        Background="{StaticResource AccentBrush}"
                        CornerRadius="4">
                        <TextBlock
                            FontWeight="Bold"
                            Foreground="White"
                            Text="{Binding NewItem.Value, Converter={StaticResource DecimalConverter}, FallbackValue='Enter Value'}" />
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>